<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Docment</title>
	<link rel="stylesheet" href="./style.css">
</head>

<body>
	<!-- 导航 -->
	<div class="div">
		<div class="box" style="width:0px;left:0px;"></div>
		<div class="menu">
			<div class="selectcolor">JavaScript</div>
			<div>Chrome</div>
			<div>Vue</div>
			<div>node</div>
			<div>VSCode</div>
		</div>
	</div>
	<!-- 轮播 -->
	<div class="imagsdiv">
		<div class="imgli">
			<img src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=4029924680,2938805232&fm=224&gp=0.jpg" alt="">
			<img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=2180454276,244693458&fm=26&gp=0.jpg" alt="">
			<img src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=3544419708,3615802376&fm=26&gp=0.jpg" alt="">
		</div>
		<div class="selectdiv">
			<div class="select"></div>
			<div></div>
			<div></div>
		</div>
	</div>
	<script>
		// 导航
		var div = document.querySelector('.div')
		var box = document.querySelector('.box')
		var list = document.querySelector('.menu').children
		var width = 0
		for (let index = 0; index < list.length; index++) {
			width += list[index].clientWidth
			list[index].addEventListener('click', function (e) {
				for (let index = 0; index < list.length; index++) {
					list[index].classList.remove('selectcolor')
				}
				e.currentTarget.classList.add('selectcolor')
				box.style.width = e.currentTarget.clientWidth + 'px'
				box.style.left = this.offsetLeft + 'px'
			})
		}
		box.style.width = list[0].clientWidth + 'px'
		div.style.width = width + 'px'

		// 轮播
		var selectlist = document.querySelector('.selectdiv').children
		var imgli = document.querySelector('.imgli')
		var imgindex = 1
		var interval = null
		function setchange(index) {
			if (index < selectlist.length-1) {
				imgindex = index + 1
			}else{
				imgindex = 0
			}
			for (let idx = 0; idx < selectlist.length; idx++) {
				selectlist[idx].classList.remove('select')
			}
			selectlist[index].classList.add('select')
			imgli.style.left = -(index * 500) + 'px'
		}
		for (let index = 0; index < selectlist.length; index++) {
			selectlist[index].addEventListener('mouseover', function (e) {
				// console.log('移入:'+index);
				clearInterval(interval)
				setchange(index)
			})
			selectlist[index].addEventListener('mouseout', function (e) {
				// console.log('移出:'+index);
				interval = setInterval(function () {
					setchange(imgindex)
				},3000)
			})
		}
		// 自动轮播
		interval = setInterval(function () {
			// console.log('默认轮播:'+imgindex);
			setchange(imgindex)
		},3000)
	</script>
</body>

</html>
